<html>
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <link rel="stylesheet" href="style.css">
        <style>
           
            .details{
                font-size: 20px; color: pink; font-family:'Courier New', Courier, monospace;
            } 
            
            h4 span {
                color: rgb(255, 122, 122);
                font-weight:bolder;
                font-family: Georgia, 'Times New Roman', Times, serif;
                }

    table {
      
      width: 100%;
    }
    th, td {
      border: 1px solid #dddddd;
      text-align: center;
      padding: 8px;
    }
    th {
      background-color: #f2f2f2;
    }
    .month {
      background-color: black;
      color: white;
    }
    .day {
      background-color: palevioletred;
      color: white;
    }
    .event {
      background-color: palevioletred;
      color: white;
    }
        </style>
        <body>
            <div >
                <div class="Navigation">
                <a href="index.html"><img src="logo.png" alt="Logo" class="logo" ></a>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="aboutus.html">About Us</a></li>
                    <li><a href="contactus.html">Contact Us</a></li>
                    <li><a href="adoption.html">Pets Adoption</a></li>
                    <li><a href="petsstore.html">Pets Store</a></li>
                    <li><a href="veterinaryclinic.html">Veterinary Clinic</a></li>
                    <li><a href="petsRescue.html">Pets Rescue</a></li>
                    <li><a href="Questionnaire.html">Questionnaire page</a></li>
            <li><a href="calculation.html">Bill Calculator</a></li>
            <li><a href="game.html">Fun Page </a></li>
                </ul>
            </div>
            <div class="container">
            <h1><img src="Clinic.png" alt="Clinic header"></h1>
            <p class="container" style="font-weight:bolder; padding-left: 380px; font-size: 30px; color: #999999; font-family: Georgia, 'Times New Roman', Times, serif;">Book an appointment for your pet!</p>
            <br/><br/>
            <h4 style="font-weight:bolder; color: #999999; font-family: Georgia, 'Times New Roman', Times, serif;">Fill <span>ALL</span> the following please:</h4>
            <br/>
            <div class="row">
                <div class="col"><form id="appointmentForm">
                  <p class="details">Name:
                      <input type="text" name="name" placeholder="Enter your name" value="">
                  </p>
                  <p class="details">Phone number:
                      <input type="text" name="phoneNumber" placeholder="Enter your phone number" value="">
                  </p>
                  <p class="details">Age:
                      <input type="text" name="age" placeholder="Enter your age" value="">
                  </p>
                  <p class="details">Password:
                      <input type="password" name="password" placeholder="Enter your password" value="">
                  </p>
                  <p class="details">Pet's name:
                      <input type="text" name="petName" placeholder="Enter your pet's name" value="">
                  </p>
                  <p class="details">Pet's age:
                      <input type="text" name="petAge" placeholder="Enter your pet's age" value="">
                  </p>
                  <p class="details">Appointment Date:
                      <input type="date" name="appointmentDate">
                  </p>
                  <p class="details">Extra details: 
                      <textarea name="extraDetails" rows="4" cols="50">provide more information about your pet's situation please...</textarea>
                  </p>
                  <input type="reset" value="Reset" class="details">
                  <input type="submit" value="Submit" class="details">
              </form></div> 
                <div class="col">
                  <br><br><br>
                  <label style="font-weight:bolder; font-size: 20px; color: #999999; font-family: Georgia, 'Times New Roman', Times, serif;">Search for appoinments details using pet's name: <input type="text" id="searchInput" placeholder="Search appointments"></label>
                  <br><br>
                  <table id="appointmentCalendar">
                     
                  </table>
              </div>
            </div>
          </div>
            <hr class="container">
            <div class="container">
                <a href="index.html"><img src="logo.png" alt="logo"></a><br /><br />
                <a href="aboutus.html">About Us</a><br /><br />
                <a href="contactus.html">Contact Us</a>
                <br/><br/>
            </div>
             </div>
             
             <script>
                // Constructor function for creating Appointment objects
                function Appointment(name, phoneNumber, age, password, petName, petAge, appointmentDate, extraDetails) {
                    this.name = name;
                    this.phoneNumber = phoneNumber;
                    this.age = age;
                    this.password = password;
                    this.petName = petName;
                    this.petAge = petAge;
                    this.appointmentDate = appointmentDate;
                    this.extraDetails = extraDetails;
                }
            
                // Constructor function for creating Pet objects
                function Pet(name, age) {
                    this.name = name;
                    this.age = age;
                }
            
                // Array of Pet objects
                var pets = [
                    new Pet("Max", 3),
                    new Pet("Bella", 5),
                    new Pet("Charlie", 2),
                    new Pet("Lucy", 7)
                ];
            
                // Array of Appointment objects
                var appointments = [
                    new Appointment("Maryam", "1234567890", 35, "password1", pets[0].name, pets[0].age, "2024-04-15", "Regular checkup"),
                    new Appointment("Furat", "9876598010", 28, "password2", pets[1].name, pets[1].age, "2024-04-20", "Vaccination"),
                    new Appointment("Turki", "5543443333", 40, "password3", pets[2].name, pets[2].age, "2024-04-25", "Dental cleaning"),
                    new Appointment("Tariq", "1112223576", 45, "password4", pets[3].name, pets[3].age, "2024-04-30", "Grooming")
                ];
            
                // Function to generate the appointment calendar
                function generateCalendar() {
                    // Get the table element where the calendar will be displayed
                    var calendar = document.getElementById("appointmentCalendar");
            
                    // Define the number of days in the month
                    var daysInMonth = 31;
            
                    // Clear the calendar before generating new content
                    calendar.innerHTML = "";
            
                    // Create header row for the month and year
                    var headerRow = calendar.insertRow();
                    var d = new Date();
                    const months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
                    headerRow.innerHTML = "<th colspan='7' class='month'>" + months[d.getMonth()] + " " + d.getFullYear() + "</th>";
            
                    // Create row for days of the week
                    var daysRow = calendar.insertRow();
                    var daysOfWeek = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
                    for (var i = 0; i < daysOfWeek.length; i++) {
                        daysRow.innerHTML += "<th class='day'>" + daysOfWeek[i] + "</th>";
                    }
            
                    // Initialize currentDay variable to 1
                    var currentDay = 1;
            
                    // Loop to generate calendar rows and cells
                    for (var row = 0; row < 5; row++) {
                        var newRow = calendar.insertRow();
                        for (var col = 0; col < 7; col++) {
                            if (currentDay <= daysInMonth) {
                                var cellContent = "";
                                // Check appointments for the current day
                                appointments.forEach(function(appointment) {
                                    var appointmentDate = new Date(appointment.appointmentDate);
                                    if (appointmentDate.getDate() === currentDay && appointmentDate.getMonth() === d.getMonth()) {
                                        cellContent += "<div>" + appointment.petName + "</div>";
                                    }
                                });
                                // Add cell to the row with day number and appointment details
                                newRow.innerHTML += "<td>" + currentDay + cellContent + "</td>";
                                currentDay++;
                            } else {
                                // Add empty cell if the month has fewer than 31 days
                                newRow.innerHTML += "<td></td>";
                            }
                        }
                    }
            
                    // Add row for event display (search results)
                    var eventRow = calendar.insertRow();
                    eventRow.innerHTML = "<td colspan='7' class='event' style='background-color: white; color: black;'>Search Result will appear here!</td>";
                }
            
                // Event listener for form submission
                document.getElementById("appointmentForm").addEventListener("submit", function(event) {
                    event.preventDefault(); // Prevent default form submission behavior
                    var formData = new FormData(event.target);
                    var appointmentData = {};
                    formData.forEach(function(value, key) {
                        appointmentData[key] = value;
                    });
            
                    // Create a new Appointment object with form data
                    var appointment = new Appointment(
                        appointmentData["name"],
                        appointmentData["phoneNumber"],
                        appointmentData["age"],
                        appointmentData["password"],
                        appointmentData["petName"],
                        appointmentData["petAge"],
                        appointmentData["appointmentDate"],
                        appointmentData["extraDetails"]
                    );
            
                    // Add the new appointment to the appointments array
                    appointments.push(appointment);
            
                    // Reset the form
                    event.target.reset();
            
                    // Generate the updated calendar
                    generateCalendar();
                });
            
                // Function to filter appointments based on search input
                function filterAppointments() {
                    var searchInput = document.getElementById("searchInput").value.toLowerCase();
                    var filteredAppointments = appointments.filter(function(appointment) {
                        return appointment.name.toLowerCase().includes(searchInput) ||
                            appointment.petName.toLowerCase().includes(searchInput);
                    });
            
                    // Update the calendar with filtered appointments
                    updateCalendar(filteredAppointments);
                }
            
                // Function to update calendar display with filtered appointments
                function updateCalendar(filteredAppointments) {
                    var calendar = document.getElementById("appointmentCalendar");
                    var eventRow = calendar.querySelector(".event");
                    eventRow.innerHTML = ""; // Clear previous search results
                    if (filteredAppointments.length > 0) {
                        // Display filtered appointments
                        filteredAppointments.forEach(function(appointment) {
                            eventRow.innerHTML += "<td colspan='7'>" + appointment.name + " - " + appointment.petName + " (" + appointment.appointmentDate + ")" + " - " + appointment.phoneNumber + "</td>";
                        });
                    } else {
                        // Display message if no appointments found
                        eventRow.innerHTML = "No appointments found";
                    }
                }
            
                // Event listener for loading the page
                window.addEventListener("load", function() {
                    // Generate the initial calendar display
                    generateCalendar();
                });
            
                // Event listener for search input field
                document.getElementById("searchInput").addEventListener("keydown", function(event) {
                    if (event.key === "Enter") {
                        // Trigger search when Enter key is pressed
                        filterAppointments();
                    }
                });
            </script>
            
        </body>
    </head>
</html>
